dotnet new sln -n CrudTesteTecnico2019

dotnet new web -n CrudTesteTecnico2019.Web
dotnet new classlib -n CrudTesteTecnico2019.Infrastructure --target-framework-override netcoreapp3.0 --force
dotnet new classlib -n CrudTesteTecnico2019.Domain --target-framework-override netcoreapp3.0 --force
dotnet new classlib -n CrudTesteTecnico2019.Application --target-framework-override netcoreapp3.0 --force
dotnet new classlib -n CrudTesteTecnico2019.Database --target-framework-override netcoreapp3.0 --force

### necessário habilitar em ferramentas > preview > .net core 

dotnet sln CrudTesteTecnico2019.sln add .\CrudTesteTecnico2019.Web
dotnet sln CrudTesteTecnico2019.sln add .\CrudTesteTecnico2019.Infrastructure\CrudTesteTecnico2019.Infrastructure.csproj
dotnet sln CrudTesteTecnico2019.sln add .\CrudTesteTecnico2019.Domain\CrudTesteTecnico2019.Domain.csproj
dotnet sln CrudTesteTecnico2019.sln add .\CrudTesteTecnico2019.Application\CrudTesteTecnico2019.Application.csproj
dotnet sln CrudTesteTecnico2019.sln add .\CrudTesteTecnico2019.Database\CrudTesteTecnico2019.Database.csproj

cd .\CrudTesteTecnico2019.Infrastructure && dotnet add ..\CrudTesteTecnico2019.Domain\CrudTesteTecnico2019.Domain.csproj reference CrudTesteTecnico2019.Infrastructure.csproj

cd .\CrudTesteTecnico2019.Domain && dotnet add ..\CrudTesteTecnico2019.Database\CrudTesteTecnico2019.Database.csproj reference CrudTesteTecnico2019.Domain.csproj
adicionar referencia de todos os projetos improtantes no application

### adicionar banco na web

dotnet add CrudTesteTecnico2019.Database package Microsoft.EntityFrameworkCore.SqlServer
dotnet add CrudTesteTecnico2019.Database package Microsoft.EntityFrameworkCore.Tools.DotNet
dotnet add CrudTesteTecnico2019.Database package Microsoft.EntityFrameworkCore.Design
dotnet add CrudTesteTecnico2019.Database package Microsoft.EntityFrameworkCore.Tools

###cdotnet-ef (especificar versão se estiver usando o preciew)
dotnet tool install -g dotnet-ef

dar um restore e entrar no prjeto de banco, pois apenas lá o ef funcionara

CrudTesteTecnico2019.Database.csproj
<ItemGroup>
	<DotNetCliToolReference Include=”Microsoft.EntityFrameworkCore.Tools.DotNet” Version=”2.0.3" />
</ItemGroup>

dotnet ef migrations add InitialCreate

Update-database

dotnet add .\CrudTesteTecnico2019.Domain\CrudTesteTecnico2019.Domain.csproj package MediatR
dotnet add .\CrudTesteTecnico2019.Application\CrudTesteTecnico2019.Application.csproj package MediatR
dotnet add .\CrudTesteTecnico2019.Web\CrudTesteTecnico2019.Web.csproj package MediatR


"ConnectionString": "Server=(localdb)\\MSSQLLocalDB;Database=Database;Integrated Security=true;Connection Timeout=5;"




<PackageReference Include="Microsoft.EntityFrameworkCore.Design" Version="2.2.4" />
    <PackageReference Include="Microsoft.EntityFrameworkCore.SqlServer" Version="2.2.4" />
    <PackageReference Include="Microsoft.EntityFrameworkCore.Tools" Version="2.2.4">
      <PrivateAssets>all</PrivateAssets>
      <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
    </PackageReference>
    <PackageReference Include="Microsoft.EntityFrameworkCore.Tools.DotNet" Version="2.0.3" />
    <DotNetCliToolReference Include="Microsoft.EntityFrameworkCore.Tools.DotNet" Version="2.0.3" />